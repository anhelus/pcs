
<!doctype html>
<html lang="it" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../03_matplotlib/lecture/">
      
      
        <link rel="next" href="../../05_seaborn/lecture/">
      
      <link rel="icon" href="../../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.14">
    
    
      
        <title>4 - Pandas - Python</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.113286f1.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.a0c5b2b5.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-ZCZWPCYZJ9"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-ZCZWPCYZJ9",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-ZCZWPCYZJ9",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#4-introduzione-a-pandas" class="md-skip">
          Vai al contenuto
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Intestazione">
    <a href="../../../.." title="Python" class="md-header__button md-logo" aria-label="Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              4 - Pandas
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Cerca" placeholder="Cerca" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Cerca">
        
        <button type="reset" class="md-search__icon md-icon" title="Cancella" aria-label="Cancella" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inizializza la ricerca
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigazione" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Python" class="md-nav__button md-logo" aria-label="Python" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Python
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Modulo 1 - Il linguaggio Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Modulo 1 - Il linguaggio Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
      
      
      
        <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
          1 - Concetti introduttivi
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          1 - Concetti introduttivi
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/01_intro/01_intro/" class="md-nav__link">
        1.1 - Introduzione al Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/01_intro/02_operators/" class="md-nav__link">
        1.2 - Operatori
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/01_intro/03_strings/" class="md-nav__link">
        1.3 - Stringhe
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/01_intro/04_lists/" class="md-nav__link">
        1.4 - Liste
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/01_intro/exercises/" class="md-nav__link">
        Esercizi
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
          2 - Programmare in Python
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2_2">
          <span class="md-nav__icon md-icon"></span>
          2 - Programmare in Python
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/01_syntax/" class="md-nav__link">
        2.1 - Sintassi fondamentale
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/02_structured/" class="md-nav__link">
        2.2 - Programmazione strutturata
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/03_functions/" class="md-nav__link">
        2.3 - Funzioni
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/04_data_structures/" class="md-nav__link">
        2.4 - Altre strutture dati
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/05_classes/" class="md-nav__link">
        2.5 - Classi
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/06_modules/" class="md-nav__link">
        2.6 - Script, moduli e package
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../01_python/02_syntax/exercises/exercises/" class="md-nav__link">
        Esercizi
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Modulo 2 - Librerie per il calcolo scientifico
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Modulo 2 - Librerie per il calcolo scientifico
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../01_jupyter/lecture/" class="md-nav__link">
        1 - Jupyter
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
      
      
      
        <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
          2 - NumPy
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          2 - NumPy
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/01_intro/" class="md-nav__link">
        2.1 - Introduzione a Numpy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/02_array/" class="md-nav__link">
        2.2 - Gli Array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/03_fundamentals/" class="md-nav__link">
        2.3 - Operazioni fondamentali sugli array
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/04_algebra/lecture/" class="md-nav__link">
        2.4 - Algebra in NumPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/05_polynomials.md" class="md-nav__link">
        2.5 - Polinomi in NumPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/06_statistics.md" class="md-nav__link">
        2.6 - Statistica in NumPy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../02_numpy/exercises/exercises/" class="md-nav__link">
        Esercizi
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../03_matplotlib/lecture/" class="md-nav__link">
        3 - Matplotlib
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          4 - Pandas
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        4 - Pandas
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installazione-e-configurazione-di-pandas" class="md-nav__link">
    Installazione e configurazione di Pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pandas-e-la-gestione-dei-dati" class="md-nav__link">
    Pandas e la gestione dei dati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-series" class="md-nav__link">
    Le Series
  </a>
  
    <nav class="md-nav" aria-label="Le Series">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#922-maschere-booleane" class="md-nav__link">
    9.2.2 - Maschere booleane
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923-la-funzione-groupby" class="md-nav__link">
    9.2.3 - La funzione groupby
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-scrittura-e-lettura-dei-dataframe" class="md-nav__link">
    9.3 - Scrittura e lettura dei dataframe
  </a>
  
    <nav class="md-nav" aria-label="9.3 - Scrittura e lettura dei dataframe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-lettura-di-dati-da-sorgenti-eterogenee" class="md-nav__link">
    9.3.1 - Lettura di dati da sorgenti eterogenee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-scrittura-di-dati-su-destinazioni-eterogenee" class="md-nav__link">
    9.3.2 - Scrittura di dati su destinazioni eterogenee
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94-aggiunta-di-feature-e-dati" class="md-nav__link">
    9.4 - Aggiunta di feature e dati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-visualizzazione-dei-dati-in-pandas" class="md-nav__link">
    9.5 - Visualizzazione dei dati in Pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-operazioni-statistiche-sui-dataframe" class="md-nav__link">
    9.6 - Operazioni statistiche sui dataframe
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../05_seaborn/lecture/" class="md-nav__link">
        5 - Seaborn
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../06_scipy/lecture/" class="md-nav__link">
        6 - SciPy
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          Modulo 3 - Concetti di machine learning
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Modulo 3 - Concetti di machine learning
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../03_ml/01_intro/" class="md-nav__link">
        1 - Introduzione al machine learning
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
      
      
      
        <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Appendici
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Appendici
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/01_python_vs_code/guide/" class="md-nav__link">
        A - Installazione di Python e Visual Studio Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/02_libraries/lecture/" class="md-nav__link">
        B - Le librerie in Python
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/03_scope/lecture/" class="md-nav__link">
        C - Ambito di una variabile
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/04_oop/lecture/" class="md-nav__link">
        D - Programmazione orientata agli oggetti
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/05_tips/lecture/" class="md-nav__link">
        E - Tips
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../appendix/06_argparse/lecture.md" class="md-nav__link">
        F - Il modulo argparse
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../contributors/" class="md-nav__link">
        Ringraziamenti
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Indice">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Indice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installazione-e-configurazione-di-pandas" class="md-nav__link">
    Installazione e configurazione di Pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pandas-e-la-gestione-dei-dati" class="md-nav__link">
    Pandas e la gestione dei dati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#le-series" class="md-nav__link">
    Le Series
  </a>
  
    <nav class="md-nav" aria-label="Le Series">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#922-maschere-booleane" class="md-nav__link">
    9.2.2 - Maschere booleane
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#923-la-funzione-groupby" class="md-nav__link">
    9.2.3 - La funzione groupby
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#93-scrittura-e-lettura-dei-dataframe" class="md-nav__link">
    9.3 - Scrittura e lettura dei dataframe
  </a>
  
    <nav class="md-nav" aria-label="9.3 - Scrittura e lettura dei dataframe">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#931-lettura-di-dati-da-sorgenti-eterogenee" class="md-nav__link">
    9.3.1 - Lettura di dati da sorgenti eterogenee
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#932-scrittura-di-dati-su-destinazioni-eterogenee" class="md-nav__link">
    9.3.2 - Scrittura di dati su destinazioni eterogenee
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#94-aggiunta-di-feature-e-dati" class="md-nav__link">
    9.4 - Aggiunta di feature e dati
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#95-visualizzazione-dei-dati-in-pandas" class="md-nav__link">
    9.5 - Visualizzazione dei dati in Pandas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#96-operazioni-statistiche-sui-dataframe" class="md-nav__link">
    9.6 - Operazioni statistiche sui dataframe
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="4-introduzione-a-pandas">4 - Introduzione a Pandas<a class="headerlink" href="#4-introduzione-a-pandas" title="Permanent link">&para;</a></h1>
<p><a href="https://pandas.pydata.org/">Pandas</a> viene usata per la lettura ed elaborazione dei dati provenienti da sorgenti di vario tipo, come ad esempio file CSV o Excel, ma anche file di testo e database. Vediamo quindi brevemente come usare la libreria, tenendo presente che ne approfondiremo il funzionamento anche durante le lezioni successive.</p>
<h2 id="installazione-e-configurazione-di-pandas">Installazione e configurazione di Pandas<a class="headerlink" href="#installazione-e-configurazione-di-pandas" title="Permanent link">&para;</a></h2>
<p>Al solito, il primo passo è sempre quello di installare la libreria nel nostro ambiente di lavoro:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>pip<span class="w"> </span>install<span class="w"> </span>pandas
</code></pre></div>
<p>Possiamo quindi importare la libreria all'interno dei nostri script o notebook:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
</code></pre></div>
<h2 id="pandas-e-la-gestione-dei-dati">Pandas e la gestione dei dati<a class="headerlink" href="#pandas-e-la-gestione-dei-dati" title="Permanent link">&para;</a></h2>
<p>Pandas gestisce prevalentemente dati <em>strutturati</em> sotto forma <em>tabellare</em>, ossia simili a quelli comunemente contenuti all'interno dei fogli di calcolo o nei database. Questi dati sono sicuramente tra i più diffusi ed utilizzati nel contesto dell'analisi dei dati, ovviamente escludendo le immagini: in tal senso, per modellarli, Pandas ci mette a disposizione un'apposita struttura denominata <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.html"><code>DataFrame</code></a>.</p>
<p>I dataframe sono quindi delle strutture atte a contenere dati di ogni tipo. Questi sono normalmente organizzati in righe e colonne, in maniera del tutto analoga a quella in cui sono organizzati i fogli di calcolo ed i database. Importante anche sottolineare come, per convenzione, le singole righe rappresentino i <em>campioni</em> del dataset, mentre le colonne siano associati ai valori assunti dalle diverse caratteristiche, o <em>feature</em>, di ciascun campione.</p>
<p>Facciamo un esempio usando il dataset Titanic, che è uno tra i più utilizzati a scopi di sperimentazione. Per prima cosa, generiamo un dataframe rappresentativo dei dati contenuti nel dataset, leggendo il file <code>titanic.csv</code>, che possiamo scaricare a <a href="../../../data/titanic.csv">questo link</a>. Per leggere i dati, dovremo utilizzare il metodo <a href="https://pandas.pydata.org/docs/reference/api/pandas.read_csv.html"><code>read_csv()</code></a>, cui passeremo il percorso relativo del file:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;titanic.csv&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Usiamo il metodo <a href="https://pandas.pydata.org/docs/reference/api/pandas.DataFrame.head.html"><code>head()</code></a> per mostrare a schermo le prime cinque righe del dataframe.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="w">   </span>PassengerId<span class="w">  </span>Survived<span class="w">  </span>Pclass<span class="w">                                               </span>Name<span class="w">     </span>Sex<span class="w">   </span>Age<span class="w">  </span>SibSp<span class="w">  </span>Parch<span class="w">            </span>Ticket<span class="w">     </span>Fare<span class="w"> </span>Cabin<span class="w"> </span>Embarked
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="m">0</span><span class="w">            </span><span class="m">1</span><span class="w">         </span><span class="m">0</span><span class="w">       </span><span class="m">3</span><span class="w">                            </span>Braund,<span class="w"> </span>Mr.<span class="w"> </span>Owen<span class="w"> </span>Harris<span class="w">    </span>male<span class="w">  </span><span class="m">22</span>.0<span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">         </span>A/5<span class="w"> </span><span class="m">21171</span><span class="w">   </span><span class="m">7</span>.2500<span class="w">   </span>NaN<span class="w">        </span>S
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="m">1</span><span class="w">            </span><span class="m">2</span><span class="w">         </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">  </span>Cumings,<span class="w"> </span>Mrs.<span class="w"> </span>John<span class="w"> </span>Bradley<span class="w"> </span><span class="o">(</span>Florence<span class="w"> </span>Briggs<span class="w"> </span>Th...<span class="w">  </span>female<span class="w">  </span><span class="m">38</span>.0<span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">          </span>PC<span class="w"> </span><span class="m">17599</span><span class="w">  </span><span class="m">71</span>.2833<span class="w">   </span>C85<span class="w">        </span>C
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="m">2</span><span class="w">            </span><span class="m">3</span><span class="w">         </span><span class="m">1</span><span class="w">       </span><span class="m">3</span><span class="w">                             </span>Heikkinen,<span class="w"> </span>Miss.<span class="w"> </span>Laina<span class="w">  </span>female<span class="w">  </span><span class="m">26</span>.0<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">  </span>STON/O2.<span class="w"> </span><span class="m">3101282</span><span class="w">   </span><span class="m">7</span>.9250<span class="w">   </span>NaN<span class="w">        </span>S
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="m">3</span><span class="w">            </span><span class="m">4</span><span class="w">         </span><span class="m">1</span><span class="w">       </span><span class="m">1</span><span class="w">       </span>Futrelle,<span class="w"> </span>Mrs.<span class="w"> </span>Jacques<span class="w"> </span>Heath<span class="w"> </span><span class="o">(</span>Lily<span class="w"> </span>May<span class="w"> </span>Peel<span class="o">)</span><span class="w">  </span>female<span class="w">  </span><span class="m">35</span>.0<span class="w">      </span><span class="m">1</span><span class="w">      </span><span class="m">0</span><span class="w">            </span><span class="m">113803</span><span class="w">  </span><span class="m">53</span>.1000<span class="w">  </span>C123<span class="w">        </span>S
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="m">4</span><span class="w">            </span><span class="m">5</span><span class="w">         </span><span class="m">0</span><span class="w">       </span><span class="m">3</span><span class="w">                           </span>Allen,<span class="w"> </span>Mr.<span class="w"> </span>William<span class="w"> </span>Henry<span class="w">    </span>male<span class="w">  </span><span class="m">35</span>.0<span class="w">      </span><span class="m">0</span><span class="w">      </span><span class="m">0</span><span class="w">            </span><span class="m">373450</span><span class="w">   </span><span class="m">8</span>.0500<span class="w">   </span>NaN<span class="w">        </span>S
</code></pre></div>
<p>Vediamo rapidamente che ad ogni passeggero sono associate delle feature, di cui possiamo inferire il tipo (lo verificheremo a breve):</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Descrizione</th>
<th>Tipo</th>
</tr>
</thead>
<tbody>
<tr>
<td>PassengerId</td>
<td>Identificativo univoco del passeggero.</td>
<td>Intero</td>
</tr>
<tr>
<td>Survived</td>
<td>Stabilisce se il passeggero è sopravvissuto.</td>
<td>Intero/booleano</td>
</tr>
<tr>
<td>Pclass</td>
<td>Rappresenta la classe del passeggero</td>
<td>Intero</td>
</tr>
<tr>
<td>Name</td>
<td>Nome completo del passeggero</td>
<td>Stringa</td>
</tr>
<tr>
<td>Sex</td>
<td>Genere del passeggero</td>
<td>Stringa</td>
</tr>
<tr>
<td>Age</td>
<td>Età del passeggero</td>
<td>Decimale</td>
</tr>
<tr>
<td>SibSp</td>
<td>Crasi di "Siblings/Spouses", rappresenta il numero di fratelli/sorelle/coniugi a bordo per ogni passeggero</td>
<td>Intero</td>
</tr>
<tr>
<td>Parch</td>
<td>Crasi di "Parents/Children", rappresenta il numero di genitori/figli a bordo per ogni passeggero</td>
<td>Intero</td>
</tr>
<tr>
<td>Ticket</td>
<td>Rappresenta l'identificativo per il ticket del passeggero.</td>
<td>Stringa</td>
</tr>
<tr>
<td>Tariffa</td>
<td>Rappresenta la tariffa pagata dal passeggero.</td>
<td>Decimale</td>
</tr>
<tr>
<td>Cabin</td>
<td>Rappresenta la cabina in cui allogiava il passeggero.</td>
<td>Stringa</td>
</tr>
<tr>
<td>Embarked</td>
<td>Rappresenta il punto di imbarco del passeggero.</td>
<td>Stringa</td>
</tr>
</tbody>
</table>
<p>Verifichiamo che le nostre ipotesi sul tipo di dato siano corrette; per farlo, possiamo usare la proprietà <code>dtypes</code> del dataframe:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">PassengerId</span>      <span class="n">int64</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="n">Survived</span>         <span class="n">int64</span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="n">Pclass</span>           <span class="n">int64</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="n">Name</span>            <span class="nb">object</span>
<a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="n">Sex</span>             <span class="nb">object</span>
<a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="n">Age</span>            <span class="n">float64</span>
<a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="n">SibSp</span>            <span class="n">int64</span>
<a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="n">Parch</span>            <span class="n">int64</span>
<a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a><span class="n">Ticket</span>          <span class="nb">object</span>
<a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="n">Fare</span>           <span class="n">float64</span>
<a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="n">Cabin</span>           <span class="nb">object</span>
<a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="n">Embarked</span>        <span class="nb">object</span>
<a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</code></pre></div>
<p>Notiamo subito la presenza di tre tipi di colonna, ovvero <code>int64</code>, <code>float64</code> e <code>object</code>. Laddove i primi due sono autoesplicativi, merita una particolare menzione il tipo <code>object</code>, che viene associato automaticamente a tutte le stringhe.</p>
<div class="admonition tip">
<p class="admonition-title">Suggerimento</p>
<p>Normalmente, usare il tipo <code>object</code> comporta diversi problemi nella successiva fase di analisi dei dati. Potrebbe quindi essere una buona idea parametrizzare la funzione <code>read_csv()</code> mediante il parametro <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.read_csv.html"><code>dtype</code></a>, che accetta un dizionario che specifica il tipo di una o più colonne. Ad esempio, se volessimo specificare che i nomi sono delle stringhe, potremmo usare il tipo <code>string</code>:</p>
<blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">types</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Name&#39;</span><span class="p">:</span> <span class="s1">&#39;string&#39;</span><span class="p">}</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;train.csv&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="n">types</span><span class="p">)</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">dtypes</span>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="c1"># ...</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="n">Name</span>            <span class="n">string</span>
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="c1"># ...</span>
</code></pre></div>
</blockquote>
</div>
<p>Appare chiaro come il dataset ci illustri numerose proprietà per ogni passeggero imbarcato. Queste potranno quindi essere utilizzate per un'analisi approfondita della struttura dei dati sotto diversi aspetti e punti di vista; ne parleremo più estesamente nel seguito.</p>
<h2 id="le-series">Le Series<a class="headerlink" href="#le-series" title="Permanent link">&para;</a></h2>
<p>Nel paragrafo precedente abbiamo visto come ogni DataFrame sia in realtà composto da diverse colonne, ciascuna rappresentativa di una feature specifica. Nella pratica, Pandas ci offre un modo per estrarre singolarmente ciascuna di queste colonne mediante la classe <code>Series</code>. Ad esempio, potremmo estrarre la serie relativa agli identificativi numerici dei passeggeri:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">names</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Name&#39;</span><span class="p">]</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">names</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1"># Output restituito</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="mi">0</span>                              <span class="n">Braund</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">Owen</span> <span class="n">Harris</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="mi">1</span>    <span class="n">Cumings</span><span class="p">,</span> <span class="n">Mrs</span><span class="o">.</span> <span class="n">John</span> <span class="n">Bradley</span> <span class="p">(</span><span class="n">Florence</span> <span class="n">Briggs</span> <span class="n">Th</span><span class="o">...</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="mi">2</span>                               <span class="n">Heikkinen</span><span class="p">,</span> <span class="n">Miss</span><span class="o">.</span> <span class="n">Laina</span>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="mi">3</span>         <span class="n">Futrelle</span><span class="p">,</span> <span class="n">Mrs</span><span class="o">.</span> <span class="n">Jacques</span> <span class="n">Heath</span> <span class="p">(</span><span class="n">Lily</span> <span class="n">May</span> <span class="n">Peel</span><span class="p">)</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="mi">4</span>                             <span class="n">Allen</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">William</span> <span class="n">Henry</span>
<a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="n">Name</span><span class="p">:</span> <span class="n">Name</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="nb">object</span>
</code></pre></div>
<h4 id="9211-accesso-agli-elementi-di-una-serie">9.2.1.1 - Accesso agli elementi di una serie<a class="headerlink" href="#9211-accesso-agli-elementi-di-una-serie" title="Permanent link">&para;</a></h4>
<p>Possiamo accedere ad un singolo elemento di una serie mediante una classica procedura di indicizzazione. Notiamo infatti come ogni campione all'interno della serie sia associato ad un indice numerico crescente il cui valore iniziale è pari a 0; pertanto, possiamo accedere all'<span class="arithmatex">\(i\)</span>-mo elemento della serie richiamando l'<span class="arithmatex">\(i-1\)</span>-mo indice, esattamente come accade per le liste o le sequenze.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="s1">&#39;Braund, Mr. Owen Harris&#39;</span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Nota</p>
</div>
<p>L'indicizzazione può essere anche usata per impostare il valore associato ad uno specifico indice della serie.</p>
<h4 id="9212-accesso-agli-elementi-del-dataframe">9.2.1.2 - Accesso agli elementi del dataframe<a class="headerlink" href="#9212-accesso-agli-elementi-del-dataframe" title="Permanent link">&para;</a></h4>
<p>L'accesso agli elementi del dataframe può avvenire attraverso diverse modalità. In primo luogo, possiamo accedere allo specifico valore di una feature di un dato campione mediante il <em>chained indexing</em>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">][</span><span class="mi">1</span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="mi">38</span>
</code></pre></div>
<p>In alternativa, è possibile usare la funzione <code>loc(row_idx, col)</code>, che permette di accedere al valore assunto dalla feature <code>col</code> per l'elemento in posizione <code>row_idx</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;Age&#39;</span><span class="p">)]</span>
<a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="mf">38.0</span>
</code></pre></div>
<p>La funzione <code>loc()</code> può operare anche su delle slice di dati:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;Age&#39;</span><span class="p">)]</span>
<a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="mi">1</span>    <span class="mf">38.0</span>
<a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a><span class="mi">2</span>    <span class="mf">26.0</span>
<a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="mi">3</span>    <span class="mf">35.0</span>
<a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="mi">4</span>    <span class="mf">35.0</span>
<a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="mi">5</span>     <span class="n">NaN</span>
</code></pre></div>
<p>o su insiemi di feature:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="p">(</span><span class="s1">&#39;Age&#39;</span><span class="p">,</span> <span class="s1">&#39;Sex&#39;</span><span class="p">)]</span>
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>   <span class="n">Age</span>     <span class="n">Sex</span>
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="mi">1</span>  <span class="mf">38.0</span>  <span class="n">female</span>
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="mi">2</span>  <span class="mf">26.0</span>  <span class="n">female</span>
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="mi">3</span>  <span class="mf">35.0</span>  <span class="n">female</span>
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="mi">4</span>  <span class="mf">35.0</span>    <span class="n">male</span>
<a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="mi">5</span>   <span class="n">NaN</span>    <span class="n">male</span>
</code></pre></div>
<p>Sottolineamo che la funzione <code>loc()</code> opera sugli <em>indici di riga</em>. In questo caso, il nostro dataframe ha degli indici di riga interi, assegnati automaticamente in fase di lettura del dataframe. Nel caso decidessimo di usare una colonna del dataframe come indice, potremmo usare il metodo <code>set_index()</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Ticket&#39;</span><span class="p">)</span>
</code></pre></div>
<p>Notiamo che, come al solito, le funzioni lavorano sul valore, e non sulla reference. Di conseguenza, se omettessimo l'assegnazione, <code>df</code> rimarrebbe invariato. Un modo per evitare di usare ogni volta l'operazione di assegnazione è quello di impostare il parametro <code>inplace</code> a <code>True</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="n">df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;Ticket&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>
<p>In alternativa, possiamo decidere di impostare l'indice direttamente nel metodo <code>read_csv()</code> impostando il parametro <code>index_col</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;titanic.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="s1">&#39;Ticket&#39;</span><span class="p">)</span>
</code></pre></div>
<p>In questo caso, la funzione <code>loc()</code> dovrà essere utilizzata usando come parametri di lettura per righe i nuovi indici. Ad esempio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s1">&#39;STON/O2. 3101282&#39;</span><span class="p">,</span> <span class="s1">&#39;Name&#39;</span><span class="p">]</span>
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="s1">&#39;Heikkinen, Miss. Laina&#39;</span>
</code></pre></div>
<p>Oltre alla funzione <code>loc()</code> Pandas ci mette a disposizione la funzione <code>iloc()</code>, la quale ci offre la possibilità di selezionare un sottoinsieme di campion del dataframe mediante indici interi (da cui la <code>i</code>):</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>                  <span class="n">Pclass</span>                                          <span class="n">Name</span>
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="n">Ticket</span>                                                                
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="n">STON</span><span class="o">/</span><span class="n">O2</span><span class="o">.</span> <span class="mi">3101282</span>       <span class="mi">3</span>                        <span class="n">Heikkinen</span><span class="p">,</span> <span class="n">Miss</span><span class="o">.</span> <span class="n">Laina</span>
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="mi">113803</span>                 <span class="mi">1</span>  <span class="n">Futrelle</span><span class="p">,</span> <span class="n">Mrs</span><span class="o">.</span> <span class="n">Jacques</span> <span class="n">Heath</span> <span class="p">(</span><span class="n">Lily</span> <span class="n">May</span> <span class="n">Peel</span><span class="p">)</span>
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="mi">373450</span>                 <span class="mi">3</span>                      <span class="n">Allen</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">William</span> <span class="n">Henry</span>
</code></pre></div>
<h3 id="922-maschere-booleane">9.2.2 - Maschere booleane<a class="headerlink" href="#922-maschere-booleane" title="Permanent link">&para;</a></h3>
<p>Supponiamo di voler selezionare soltanto gli uomini maggiorenni presenti nel dataset del Titanic. Per farlo, possiamo usare un'istruzione che implementi delle logiche di tipo booleano:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">men</span> <span class="o">=</span> <span class="n">df</span><span class="p">[(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">18</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Sex&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;male&#39;</span><span class="p">)]</span>
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">men</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>    <span class="n">PassengerId</span>  <span class="n">Survived</span>  <span class="n">Pclass</span>                            <span class="n">Name</span>   <span class="n">Sex</span>   <span class="n">Age</span>
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="mi">0</span>             <span class="mi">1</span>         <span class="mi">0</span>       <span class="mi">3</span>         <span class="n">Braund</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">Owen</span> <span class="n">Harris</span>  <span class="n">male</span>  <span class="mf">22.0</span>   
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="mi">4</span>             <span class="mi">5</span>         <span class="mi">0</span>       <span class="mi">3</span>        <span class="n">Allen</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">William</span> <span class="n">Henry</span>  <span class="n">male</span>  <span class="mf">35.0</span>   
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="mi">6</span>             <span class="mi">7</span>         <span class="mi">0</span>       <span class="mi">1</span>         <span class="n">McCarthy</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">Timothy</span> <span class="n">J</span>  <span class="n">male</span>  <span class="mf">54.0</span>   
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="mi">12</span>           <span class="mi">13</span>         <span class="mi">0</span>       <span class="mi">3</span>  <span class="n">Saundercock</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">William</span> <span class="n">Henry</span>  <span class="n">male</span>  <span class="mf">20.0</span>   
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="mi">13</span>           <span class="mi">14</span>         <span class="mi">0</span>       <span class="mi">3</span>     <span class="n">Andersson</span><span class="p">,</span> <span class="n">Mr</span><span class="o">.</span> <span class="n">Anders</span> <span class="n">Johan</span>  <span class="n">male</span>  <span class="mf">39.0</span>   
</code></pre></div>
<p>Nella pratica, stiamo filtrando il dataset in base all'<code>AND</code> logico tra due condizioni:</p>
<ul>
<li><code>df['Age'] &gt; 18</code>: questa condizione genera una <em>maschera booleana</em> che è <code>True</code> soltanto se l'età per quel passeggero è maggiore di 18 anni;</li>
<li><code>df['Sex'] == 'male'</code>: questa condizione genera una maschera booleana che è vera soltanto se il genere del passeggero è maschile.</li>
</ul>
<h3 id="923-la-funzione-groupby">9.2.3 - La funzione <code>groupby</code><a class="headerlink" href="#923-la-funzione-groupby" title="Permanent link">&para;</a></h3>
<p>Possiamo sfruttare la funzione <a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.groupby.html"><code>groupby</code></a> per raggruppare insiemi di dati (normalmente pertinenti a <em>categorie</em>).</p>
<p>Ad esempio, potremmo raggruppare i passeggeri per genere:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Sex&#39;</span><span class="p">])</span>
</code></pre></div>
<p>Possiamo ovviamente estrarre delle statistiche a partire da questi raggruppamenti. Vediamo, ad esempio, l'età media dei passeggeri di sesso femminile e maschile:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;Sex&#39;</span><span class="p">])[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="n">Sex</span>
<a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="n">female</span>    <span class="mf">27.915709</span>
<a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="n">male</span>      <span class="mf">30.726645</span>
<a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="n">Name</span><span class="p">:</span> <span class="n">Age</span><span class="p">,</span> <span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</code></pre></div>
<h2 id="93-scrittura-e-lettura-dei-dataframe">9.3 - Scrittura e lettura dei dataframe<a class="headerlink" href="#93-scrittura-e-lettura-dei-dataframe" title="Permanent link">&para;</a></h2>
<h3 id="931-lettura-di-dati-da-sorgenti-eterogenee">9.3.1 - Lettura di dati da sorgenti eterogenee<a class="headerlink" href="#931-lettura-di-dati-da-sorgenti-eterogenee" title="Permanent link">&para;</a></h3>
<p>Nel nostro primo esempio abbiamo usato la funzione <code>read_csv</code> per creare un dataframe partendo dai dati memorizzati in un file in formato CSV. Tuttavia, Pandas supporta molti altri formati.</p>
<p>Ad esempio, potremmo provare a leggere un file Excel:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="s1">&#39;dati.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Attenzione</p>
<p>Per leggere (e scrivere) da (su) Excel è necessario installare la libreria <code>openpyxl</code> (<code>pip install openpyxl</code>).</p>
</div>
<p>In alternativa, può essere letto un file in formato JSON, oppure ancora direttamente un database:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_json</span><span class="p">(</span><span class="s1">&#39;dati.json&#39;</span><span class="p">)</span>
<a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_sql</span><span class="p">(</span><span class="n">SQL_QUERY</span><span class="p">)</span>
</code></pre></div>
<p>Esiste un elenco completo delle (numerose) funzioni disponibili, che possono essere individuate sulla <a href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html">reference</a>. In generale, comunque, la sintassi è sempre <code>read_*(data_source)</code>, con <code>*</code> da sostituire con il tipo di sorgente dati (<code>csv</code>, <code>excel</code>, etc.).</p>
<h3 id="932-scrittura-di-dati-su-destinazioni-eterogenee">9.3.2 - Scrittura di dati su destinazioni eterogenee<a class="headerlink" href="#932-scrittura-di-dati-su-destinazioni-eterogenee" title="Permanent link">&para;</a></h3>
<p>Possiamo anche scrivere un dataframe su file mediante le funzioni duali alle <code>read_</code>, che usano il suffisso <code>to_</code> seguito dall'estensione del file destinazione. Ad esempio, potremmo scrivere un file CSV con il metodo <code>to_csv</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="n">df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;train.xlsx&#39;</span><span class="p">)</span>
</code></pre></div>
<h2 id="94-aggiunta-di-feature-e-dati">9.4 - Aggiunta di feature e dati<a class="headerlink" href="#94-aggiunta-di-feature-e-dati" title="Permanent link">&para;</a></h2>
<p>Immaginiamo adesso di voler aggiungere una nuova feature ad un dataframe già esistente. Per farlo, iniziamo creando un dataframe da zero:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">])</span>
<a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a>   <span class="n">one</span>
<a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="mi">0</span>    <span class="mi">1</span>
<a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="mi">1</span>    <span class="mi">2</span>
<a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="mi">2</span>    <span class="mi">3</span>
<a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="mi">3</span>    <span class="mi">4</span>
<a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="mi">4</span>    <span class="mi">5</span>
</code></pre></div>
<p>Possiamo aggiungere una nuova colonna semplicemente usando l'operatore di assegnazione e specificandone il nome:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;two&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span>
<a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>   <span class="n">one</span>  <span class="n">two</span>
<a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a><span class="mi">0</span>    <span class="mi">1</span>    <span class="mi">2</span>
<a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a><span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">4</span>
<a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a><span class="mi">2</span>    <span class="mi">3</span>    <span class="mi">6</span>
<a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a><span class="mi">3</span>    <span class="mi">4</span>    <span class="mi">8</span>
<a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a><span class="mi">4</span>    <span class="mi">5</span>   <span class="mi">10</span>
</code></pre></div>
<p>Possiamo poi inserire nuovi campioni in coda al dataframe. Per farlo, dovremo prima creare un nuovo dataframe dalle dimensioni coerenti con quello già esistente, e poi usare la funzione <code>concat()</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df_add</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">]],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;one&#39;</span><span class="p">,</span> <span class="s1">&#39;two&#39;</span><span class="p">])</span>
<a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_add</span><span class="p">])</span>
<a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a>   <span class="n">one</span>  <span class="n">two</span>
<a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="mi">0</span>    <span class="mi">1</span>    <span class="mi">2</span>
<a id="__codelineno-26-5" name="__codelineno-26-5" href="#__codelineno-26-5"></a><span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">4</span>
<a id="__codelineno-26-6" name="__codelineno-26-6" href="#__codelineno-26-6"></a><span class="mi">2</span>    <span class="mi">3</span>    <span class="mi">6</span>
<a id="__codelineno-26-7" name="__codelineno-26-7" href="#__codelineno-26-7"></a><span class="mi">3</span>    <span class="mi">4</span>    <span class="mi">8</span>
<a id="__codelineno-26-8" name="__codelineno-26-8" href="#__codelineno-26-8"></a><span class="mi">4</span>    <span class="mi">5</span>   <span class="mi">10</span>
<a id="__codelineno-26-9" name="__codelineno-26-9" href="#__codelineno-26-9"></a><span class="mi">0</span>    <span class="mi">6</span>    <span class="mi">7</span>
</code></pre></div>
<p>Notiamo che la funzione <code>concat()</code> accetta, tra gli altri, il parametro <code>axis</code>. Se questo è uguale a zero (come lo è di default), la <code>concat()</code> effettua la concatenazione per righe; se è pari ad 1, invece, la concatenazione avviene per colonne. Tuttavia, è importante sottolineare come la concatenazione avvenga anche nel caso le misure non siano completamente coerenti: infatti, se provassimo ad effettuare una concatenazione per colonne, avremmo un risultato del tipo:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">df</span><span class="p">,</span> <span class="n">df_add</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>   <span class="n">one</span>  <span class="n">two</span>  <span class="n">one</span>  <span class="n">two</span>
<a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="mi">0</span>    <span class="mi">1</span>    <span class="mi">2</span>  <span class="mf">6.0</span>  <span class="mf">7.0</span>
<a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="mi">1</span>    <span class="mi">2</span>    <span class="mi">4</span>  <span class="n">NaN</span>  <span class="n">NaN</span>
<a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="mi">2</span>    <span class="mi">3</span>    <span class="mi">6</span>  <span class="n">NaN</span>  <span class="n">NaN</span>
<a id="__codelineno-27-6" name="__codelineno-27-6" href="#__codelineno-27-6"></a><span class="mi">3</span>    <span class="mi">4</span>    <span class="mi">8</span>  <span class="n">NaN</span>  <span class="n">NaN</span>
<a id="__codelineno-27-7" name="__codelineno-27-7" href="#__codelineno-27-7"></a><span class="mi">4</span>    <span class="mi">5</span>   <span class="mi">10</span>  <span class="n">NaN</span>  <span class="n">NaN</span>
</code></pre></div>
<p>I valori relativi alle righe con indice che va da 1 a 4, che ovviamente non saranno presenti, saranno automaticamente impostati a <em>NaN</em>, acronimo di <em>Not a Number</em>.</p>
<h2 id="95-visualizzazione-dei-dati-in-pandas">9.5 - Visualizzazione dei dati in Pandas<a class="headerlink" href="#95-visualizzazione-dei-dati-in-pandas" title="Permanent link">&para;</a></h2>
<p>Pandas ci offre un supporto nativo a Matplotlib per permettere la visualizzazione dei dati contenuti all'interno di un dataframe.</p>
<p>In tal senso, possiamo usare la funzione <code>plot()</code> su una serie o su un intero dataframe; ad esempio, potremmo plottare le età dei passeggeri:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>ottenendo il risultato mostrato in figura:</p>
<p><img alt="plot_ages" class="center" src="../images/plot_ages.png" /></p>
<p>Possiamo anche fare il plot dell'intero <code>DataFrame</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
<a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>che risulterà nella seguente figura:</p>
<p><img alt="plot_titanic" class="center" src="../images/plot_titanic.png" /></p>
<p>Ovviamente, è possibile usare Pandas anche per fare il plot di altri tipi di grafico, come ad esempio gli istogrammi. Per farlo, si usano le apposite sotto-funzioni di <code>plot</code>:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="n">df</span><span class="p">[</span><span class="s1">&#39;Age&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">hist</span><span class="p">()</span>
<a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</code></pre></div>
<p>Il risultato è mostrato in figura.</p>
<p><img alt="ages_hist" class="center" src="../images/hist_ages.png" /></p>
<div class="admonition note">
<p class="admonition-title">Pandas e Seaborn</p>
</div>
<p>Pandas si integra in maniera naturale anche con la libreria Seaborn, di cui tratteremo nella prossima lezione.</p>
<h2 id="96-operazioni-statistiche-sui-dataframe">9.6 - Operazioni statistiche sui dataframe<a class="headerlink" href="#96-operazioni-statistiche-sui-dataframe" title="Permanent link">&para;</a></h2>
<p>Pandas ci mette a disposizione delle funzioni, simili a quelle offerte da NumPy, per calcolare delle statistiche per ciascuna delle colonne presenti in un DataFrame. Ad esempio:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="n">PassengerId</span>    <span class="mf">446.000000</span>
<a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="n">Survived</span>         <span class="mf">0.383838</span>
<a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="n">Pclass</span>           <span class="mf">2.308642</span>
<a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="n">Age</span>             <span class="mf">29.699118</span>
<a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="n">SibSp</span>            <span class="mf">0.523008</span>
<a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="n">Parch</span>            <span class="mf">0.381594</span>
<a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="n">Fare</span>            <span class="mf">32.204208</span>
<a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="n">dtype</span><span class="p">:</span> <span class="n">float64</span>
</code></pre></div>
<p>Ovviamente, esistono funzioni anche per calcolare varianza (<code>df.var()</code>), mediana (<code>df.median()</code>), deviazione standard (<code>df.std()</code>), e via discorrendo.</p>
<p>Particolarmente interessante è la funzione <code>describe()</code>, che ci mosta tutte le statistiche più significative per ognuna delle feature considerate.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="o">&gt;&gt;&gt;</span> <span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
<a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a>       <span class="n">PassengerId</span>    <span class="n">Survived</span>      <span class="n">Pclass</span>         <span class="n">Age</span>       <span class="n">SibSp</span>       <span class="n">Parch</span>        <span class="n">Fare</span>
<a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="n">count</span>   <span class="mf">891.000000</span>  <span class="mf">891.000000</span>  <span class="mf">891.000000</span>  <span class="mf">714.000000</span>  <span class="mf">891.000000</span>  <span class="mf">891.000000</span>  <span class="mf">891.000000</span>
<a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="n">mean</span>    <span class="mf">446.000000</span>    <span class="mf">0.383838</span>    <span class="mf">2.308642</span>   <span class="mf">29.699118</span>    <span class="mf">0.523008</span>    <span class="mf">0.381594</span>   <span class="mf">32.204208</span>
<a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="n">std</span>     <span class="mf">257.353842</span>    <span class="mf">0.486592</span>    <span class="mf">0.836071</span>   <span class="mf">14.526497</span>    <span class="mf">1.102743</span>    <span class="mf">0.806057</span>   <span class="mf">49.693429</span>
<a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="nb">min</span>       <span class="mf">1.000000</span>    <span class="mf">0.000000</span>    <span class="mf">1.000000</span>    <span class="mf">0.420000</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>
<a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="mi">25</span><span class="o">%</span>     <span class="mf">223.500000</span>    <span class="mf">0.000000</span>    <span class="mf">2.000000</span>   <span class="mf">20.125000</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>    <span class="mf">7.910400</span>
<a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="mi">50</span><span class="o">%</span>     <span class="mf">446.000000</span>    <span class="mf">0.000000</span>    <span class="mf">3.000000</span>   <span class="mf">28.000000</span>    <span class="mf">0.000000</span>    <span class="mf">0.000000</span>   <span class="mf">14.454200</span>
<a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="mi">75</span><span class="o">%</span>     <span class="mf">668.500000</span>    <span class="mf">1.000000</span>    <span class="mf">3.000000</span>   <span class="mf">38.000000</span>    <span class="mf">1.000000</span>    <span class="mf">0.000000</span>   <span class="mf">31.000000</span>
<a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="nb">max</span>     <span class="mf">891.000000</span>    <span class="mf">1.000000</span>    <span class="mf">3.000000</span>   <span class="mf">80.000000</span>    <span class="mf">8.000000</span>    <span class="mf">6.000000</span>  <span class="mf">512.329200</span>
</code></pre></div>


  




                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; Angelo Cardellicchio - MIT License
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://github.com/anhelus" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="mailto:angelo.cardellicchio@stiima.cnr.it" target="_blank" rel="noopener" title="" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M498.1 5.6c10.1 7 15.4 19.1 13.5 31.2l-64 416c-1.5 9.7-7.4 18.2-16 23s-18.9 5.4-28 1.6L284 427.7l-68.5 74.1c-8.9 9.7-22.9 12.9-35.2 8.1S160 493.2 160 480v-83.6c0-4 1.5-7.8 4.2-10.7l167.6-182.9c5.8-6.3 5.6-16-.4-22s-15.7-6.4-22-.7L106 360.8l-88.3-44.2C7.1 311.3.3 300.7 0 288.9s5.9-22.8 16.1-28.7l448-256c10.7-6.1 23.9-5.5 34 1.4z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": [], "search": "../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copiato", "clipboard.copy": "Copia", "search.result.more.one": "1 altro in questa pagina", "search.result.more.other": "# altri in questa pagina", "search.result.none": "Nessun documento trovato", "search.result.one": "1 documento trovato", "search.result.other": "# documenti trovati", "search.result.placeholder": "Scrivi per iniziare a cercare", "search.result.term.missing": "Non presente", "select.version": "Seleziona la versione"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.2a6f1dda.min.js"></script>
      
        <script src="../../../../js/config.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>